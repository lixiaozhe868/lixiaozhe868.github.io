var GameEui=function(e){function t(){e.call(this)}__extends(t,e);var i=(__define,t);i.prototype;return t}(eui.UILayer);egret.registerClass(GameEui,"GameEui");var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var i=(__define,t),s=i.prototype;return s.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},s.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.call(this),this.overText=new egret.TextField,this.timeText=new egret.TextField,this.touching=!0,this.uiLayer=new eui.UILayer,this.breadMaskImage=new egret.Bitmap,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.timeStart=egret.getTimer()}__extends(t,e);var i=(__define,t),s=i.prototype;return s.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},s.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},s.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},s.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},s.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},s.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},s.createGameScene=function(){var e=this.createBitmapByName("bgImage");this.addChild(e);var t=this.stage.stageWidth,i=this.stage.stageHeight;e.width=t,e.height=i,this.addChild(this.uiLayer),this.people(),this.board(),this.breadImage(),this.breadMask(),this.overText.text="DEMO_0324.点击绿色区域开始测试！",this.overText.width=400,this.addChild(this.overText),this.overText.textAlign="center",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5},s.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},s.timeBegin=function(e){this.timeStart=egret.getTimer(),this.breadMaskImage.alpha=0,console.log("触摸开始"),egret.Tween.get(this.breadMaskImage).to({alpha:1},6e3,egret.Ease.circIn),this.timeCount()},s.timeOver=function(e){var t=this.timeStart;this.touchTime=egret.getTimer()-t,console.log(this.touchTime),egret.Tween.pauseTweens(this.breadMaskImage),this.gameManager()},s.gameManager=function(){switch(!0){case this.touchTime>=1e3&&this.touchTime<2e3:console.log("触摸结束，触摸时间为"+this.touchTime),this.overText.text="哎呀,你太心急了，烤箱还没热呢！",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime<1e3:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="同学，你是来捣乱的吧",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=2e3&&this.touchTime<3e3:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="你太心急了，面包才刚开始烘焙！",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=3e3&&this.touchTime<3500:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="经过不懈的努力，你获得了五分熟的面包，打败了全国32%的面包师!",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=3500&&this.touchTime<4100:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="经过不懈的努力，你获得了六分熟的面包，打败了全国53%的面包师",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=4100&&this.touchTime<4500:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="经过不懈的努力，你获得了七分熟的面包，打败了全国60%的面包师",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=4500&&this.touchTime<4800:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="经过不懈的努力，你获得了八分熟的面包，打败了全国80%的面包师！",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=4800&&this.touchTime<4950:console.log("触摸结束,触摸时间不为"+this.touchTime),this.overText.text="天呐！经过不懈的努力，你获得了九分熟的面包，打败了全国90%的面包师！",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=4950&&this.touchTime<5050:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="简直完美，经过不懈的努力，你获得了色香味俱全的黄金面包，打败了全国99%的面包师！",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=5050&&this.touchTime<5300:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="经过你不懈的努力，你获得了略微烤糊的面包，超过了全国60%的面包师",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=5300&&this.touchTime<6e3:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="太遗憾了，面包烤的太久了，你获得了烤焦了的面包",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5;break;case this.touchTime>=6e3:console.log("触摸结束,触摸时间为"+this.touchTime),this.overText.text="糟糕，烤的时间太长了，面包都快被烤成炭了！",this.overText.x=this.stage.stageWidth-this.overText.width>>1,this.overText.y=this.stage.stageHeight-this.stage.stageHeight/5}},s.timeCount=function(){this.touching=!0,this.timeText.text="touch"},s.people=function(){var e=new eui.Image;e.source="resource/assets/people.png",e.horizontalCenter=0,e.top=.2*window.screen.height,this.uiLayer.addChild(e)},s.board=function(){var e=new eui.Image;e.source="resource/assets/board.png",e.bottom=.1*window.screen.height,e.horizontalCenter=0,this.uiLayer.addChild(e),e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.timeBegin,this),e.addEventListener(egret.TouchEvent.TOUCH_END,this.timeOver,this),console.log("yijiazai"),this.breadyposition=e.y},s.breadImage=function(){var e=new egret.Bitmap;e=this.createBitmapByName("bread"),this.addChild(e),e.x=this.stage.width-e.width>>1,e.y=this.stage.height-.7*window.screen.height},s.breadMask=function(){this.breadMaskImage=this.createBitmapByName("bread_mask"),this.addChild(this.breadMaskImage),this.breadMaskImage.alpha=0,this.breadMaskImage.x=this.stage.width-this.breadMaskImage.width>>1,this.breadMaskImage.y=this.stage.height-.671*window.screen.height},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");